<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crack the Code</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Crack the Code</h1>
    </header>
    <main>
        <p>Welcome to the virtual prison! You need to guess the secret animal to escape.</p>
        <p>You have three attempts to guess the correct animal.</p>
        <form onsubmit="return checkAnimal()">
            <label for="animalInput">Enter the animal:</label><br>
            <input type="text" id="animalInput" name="animalInput" required><br><br>
            <input type="submit" value="Submit">
        </form>
        <p id="resultMessage"></p>
    </main>
    <footer>
        <a href="../index.html">Back to GHOST HACKS</a>
    </footer>

    <script>
        let animals = ["cat", "dog", "elephant", "lion", "tiger", "bear", "penguin", "snake", "monkey"];
        let correctAnimal = animals[Math.floor(Math.random() * animals.length)];
        let attempts = 3;

        function checkAnimal() {
            let input = document.getElementById("animalInput").value.toLowerCase();
            if (input === correctAnimal) {
                document.getElementById("resultMessage").innerHTML = "Congratulations! You guessed the correct animal and escaped the virtual prison.";
                document.getElementById("resultMessage").style.color = "green";
                return false; // Prevent form submission
            } else {
                attempts--;
                if (attempts === 0) {
                    document.getElementById("resultMessage").innerHTML = "You failed to guess the correct animal. The correct animal was a " + correctAnimal + ". Game over!";
                    document.getElementById("resultMessage").style.color = "red";
                    document.getElementById("animalInput").disabled = true;
                    return false; // Prevent form submission
                } else {
                    let teaser = "";
                    if (attempts === 2) {
                        teaser = "Here's a clue: It's a mammal.";
                    } else if (attempts === 1) {
                        teaser = "Here's another clue: It's a domestic animal.";
                    } else {
                        teaser = "You're almost there!";
                    }
                    document.getElementById("resultMessage").innerHTML = "Incorrect animal. You have " + attempts + " attempts left. " + teaser;
                    document.getElementById("resultMessage").style.color = "red";
                    return false; // Prevent form submission
                }
            }
        }
    </script>
</body>
</html>
